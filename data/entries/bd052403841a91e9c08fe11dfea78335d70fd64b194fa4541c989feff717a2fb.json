{"title":"Release Notes for Safari Technology Preview 114","link":"https://webkit.org/blog/11300/release-notes-for-safari-technology-preview-114/","date":1602178827000,"content":"<p><a href=\"https://webkit.org/blog/6017/introducing-safari-technology-preview/\">Safari Technology Preview</a> Release 114 is now <a href=\"https://webkit.org/downloads/\">available for download</a> for macOS Big Sur and macOS Catalina. If you already have Safari Technology Preview installed, you can update in the Software Update pane of System Preferences on macOS.</p>\n<p>This release covers WebKit revisions <a href=\"https://trac.webkit.org/log?stop_rev=265893&amp;rev=267325&amp;limit=1432\">265893-267325</a>.</p>\n<h3>Web Inspector</h3>\n<ul>\n<li>Elements Tab\n<ul>\n<li>Changed to grey out properties that aren&#8217;t used or don&#8217;t apply (<a href=\"https://trac.webkit.org/r266066\">r266066</a>)</li>\n<li>Changed to hide non-inheritable properties when viewing inherited rules (<a href=\"https://trac.webkit.org/r266069\">r266069</a>)</li>\n<li>Changed to not show inline swatches for properties that aren&#8217;t used or don&#8217;t apply (<a href=\"https://trac.webkit.org/r266070\">r266070</a>)</li>\n</ul>\n</li>\n<li>Sources Tab\n<ul>\n<li>Changed to allow event breakpoints to be configured (<a href=\"https://trac.webkit.org/r266074\">r266074</a>, <a href=\"https://trac.webkit.org/changeset/266480/webkit/\">r266480</a>)</li>\n<li>Changed to evaluate breakpoint conditions before incrementing the ignore count (<a href=\"https://trac.webkit.org/r266138\">r266138</a>)</li>\n<li>Changed to allow DOM breakpoints to be configured (<a href=\"https://trac.webkit.org/changeset/266669/webkit/\">r266669</a>)</li>\n<li>Changed to allow special JavaScript breakpoints to be configured (<a href=\"https://trac.webkit.org/changeset/266534/webkit/\">r266534</a>)</li>\n<li>Changed to allow URL breakpoints to be configured (<a href=\"https://trac.webkit.org/changeset/266538/webkit/\">r266538</a>)</li>\n</ul>\n</li>\n<li>Network Tab\n<ul>\n<li>Fixed WebSockets to be reported as type <code>websocket</code> (<a href=\"https://trac.webkit.org/changeset/266441/webkit/\">r266441</a>)</li>\n<li>Fixed issue where response content was not shown for 304 responses from XHR requests (<a href=\"https://trac.webkit.org/changeset/266568/webkit/\">r266568</a>)</li>\n</ul>\n</li>\n<li>Timelines Tab\n<ul>\n<li>Fixed duplicate &#8220;Timeline Recording 1&#8221; on open (<a href=\"https://trac.webkit.org/changeset/266477/webkit/\">r266477</a>)</li>\n<li>Fixed re-enabling the JavaScript Allocations timeline to show previously captured heap snapshots in the table (<a href=\"https://trac.webkit.org/changeset/266463/webkit/\">r266463</a>)</li>\n<li>Fixed the record button disappearing when interface is narrow (<a href=\"https://trac.webkit.org/changeset/266537/webkit/\">r266537</a>)</li>\n<li>Fixed the Stop Recording button to actually stop the recording (<a href=\"https://trac.webkit.org/changeset/267038/webkit/\">r267038</a>)</li>\n</ul>\n</li>\n<li>Audit Tab\n<ul>\n<li>Allow audits to be created and edited in Edit mode in Web Inspector (<a href=\"https://trac.webkit.org/r266317\">r266317</a>)</li>\n</ul>\n</li>\n<li>Miscellaneous\n<ul>\n<li>Fixed issue where the docking buttons wouldn’t work when docked if the window is too small (<a href=\"https://trac.webkit.org/changeset/267031/webkit/\">r267031</a>)</li>\n</ul>\n</li>\n</ul>\n<h3>JavaScript</h3>\n<ul>\n<li>Added <code>Intl.DateTimeFormat</code> <code>dateStyle</code> and <code>timeStyle</code> (<a href=\"https://trac.webkit.org/changeset/266035/webkit/\">r266035</a>)</li>\n<li>Added <code>Intl.Segmenter</code> (<a href=\"https://trac.webkit.org/changeset/266032/webkit/\">r266032</a>)</li>\n<li>Added a syntax error for <code>async function</code> in a single-statement context (<a href=\"https://trac.webkit.org/changeset/266340/webkit/\">r266340</a>)</li>\n<li>Added <code>Object.getOwnPropertyNames</code> caching and accelerated <code>Object.getOwnPropertyDescriptor</code> (<a href=\"https://trac.webkit.org/changeset/265934/webkit/\">r265934</a>)</li>\n<li>Aligned legacy <code>Intl</code> constructor behavior to spec (<a href=\"https://trac.webkit.org/changeset/266655/webkit/\">r266655</a>)</li>\n<li>Applied <code>Intl.DateTimeFormat</code> hour-cycle correctly when <code>timeStyle</code> is used (<a href=\"https://trac.webkit.org/changeset/267108/webkit/\">r267108</a>)</li>\n<li>Enabled <code>Intl.DisplayNames</code> (<a href=\"https://trac.webkit.org/changeset/266029/webkit/\">r266029</a>)</li>\n<li>Changed to not allow <code>let [</code> sequence to appear in an ExpressionStatement context (<a href=\"https://trac.webkit.org/changeset/266327/webkit/\">r266327</a>)</li>\n<li>Changed to allow <code>new super.property</code> syntax (<a href=\"https://trac.webkit.org/changeset/266322/webkit/\">r266322</a>)</li>\n<li>Changed to allow <code>new import.meta()</code> syntax (<a href=\"https://trac.webkit.org/changeset/266318/webkit/\">r266318</a>)</li>\n<li>Changed to use locale-sensitive grouping for grouping options in <code>IntlRelativeTimeFormat</code> (<a href=\"https://trac.webkit.org/changeset/266341/webkit/\">r266341</a>)</li>\n<li>Implemented <code>Intl.DateTimeFormat</code> <code>dayPeriod</code> (<a href=\"https://trac.webkit.org/changeset/266323/webkit/\">r266323</a>)</li>\n<li>Implemented Intl Language Tag Parser (<a href=\"https://trac.webkit.org/changeset/266039/webkit/\">r266039</a>)</li>\n<li>Implemented <code>Intl.DateTimeFormat.prototype.formatRange</code> (<a href=\"https://trac.webkit.org/changeset/266033/webkit/\">r266033</a>)</li>\n<li>Implemented unified <code>Intl.NumberFormat</code> (<a href=\"https://trac.webkit.org/changeset/266031/webkit/\">r266031</a>)</li>\n<li>Fixed an invalid early error for object literal method named <code>proto</code> (<a href=\"https://trac.webkit.org/changeset/266117/webkit/\">r266117</a>)</li>\n<li>Fixed implementation of the class &#8220;extends&#8221; clause incorrectly using <code>proto</code> for setting prototypes (<a href=\"https://trac.webkit.org/changeset/266106/webkit/\">r266106</a>)</li>\n<li>Fixed Performance and PerformanceNavigation interfaces missing <code>toJSON</code> operations (<a href=\"https://trac.webkit.org/changeset/267316/webkit/\">r267316</a>)</li>\n<li>Updated <code>Intl.Collator</code> to take a collation option (<a href=\"https://trac.webkit.org/changeset/267102/webkit/\">r267102</a>)</li>\n<li>Updated <code>Array.prototype.push</code> to always perform <code>Set</code> in strict mode (<a href=\"https://trac.webkit.org/changeset/266581/webkit/\">r266581</a>, <a href=\"https://trac.webkit.org/changeset/266641/webkit/\">r266641</a>)</li>\n<li>Updated <code>Promise.prototype.finally</code> to perform <code>PromiseResolve</code> (<a href=\"https://trac.webkit.org/changeset/266896/webkit/\">r266896</a>)</li>\n</ul>\n<h3>Date and Time Inputs</h3>\n<ul>\n<li>Added editing to <code>&lt;input type=\"datetime-local\"&gt;</code> (<a href=\"https://trac.webkit.org/changeset/266830/webkit/\">r266830</a>)</li>\n<li>Updated date inputs to contain editable components (<a href=\"https://trac.webkit.org/changeset/266351/webkit/\">r266351</a>)</li>\n<li>Updated date picker appearance to match system date pickers (<a href=\"https://trac.webkit.org/changeset/267085/webkit/\">r267085</a>)</li>\n<li>Updated date picker when the inner control is edited (<a href=\"https://trac.webkit.org/changeset/266461/webkit/\">r266461</a>)</li>\n<li>Updated date pickers to respect the document&#8217;s color scheme (<a href=\"https://trac.webkit.org/changeset/267131/webkit/\">r267131</a>)</li>\n<li>Updated date/time inputs to focus the next editable component when entering a separator key (<a href=\"https://trac.webkit.org/changeset/267281/webkit/\">r267281</a>)</li>\n<li>Updated date/time inputs to preserve focus on value change (<a href=\"https://trac.webkit.org/changeset/266739/webkit/\">r266739</a>)</li>\n<li>Updated date/time inputs to not use user-specified formats to prevent fingerprinting (<a href=\"https://trac.webkit.org/changeset/267283/webkit/\">r267283</a>)</li>\n</ul>\n<h3>Web Audio</h3>\n<ul>\n<li>Added <code>AudioParam.automationRate</code> attribute (<a href=\"https://trac.webkit.org/changeset/265980/webkit/\">r265980</a>)</li>\n<li>Added proper support for <code>AudioContextOptions.sampleRate</code> (<a href=\"https://trac.webkit.org/changeset/267014/webkit/\">r267014</a>)</li>\n<li>Allowed direct creation of replacement codec (<a href=\"https://trac.webkit.org/changeset/266466/webkit/\">r266466</a>)</li>\n<li>Changed <code>AudioParam.value</code> setter to call <code>setValueAtTime(value, now)</code> (<a href=\"https://trac.webkit.org/changeset/266293/webkit/\">r266293</a>)</li>\n<li>Changed <code>AudioParam.linearRampToValueAtTime()</code> formula to match specification (<a href=\"https://trac.webkit.org/changeset/266261/webkit/\">r266261</a>)</li>\n<li>Changed <code>AudioBufferSourceNode</code> to use <code>final</code> values for <code>playbackRate</code> and <code>detune</code> (<a href=\"https://trac.webkit.org/changeset/265981/webkit/\">r265981</a>)</li>\n<li>Fixed <code>AnalyserNode.getFloatFrequencyData()</code> to fill array with <code>-Infinity</code> when input is silent (<a href=\"https://trac.webkit.org/changeset/267202/webkit/\">r267202</a>)</li>\n<li>Fixed <code>AudioBufferSourceNode.start()</code> behavior when the offset is past the end of the buffer (<a href=\"https://trac.webkit.org/changeset/267169/webkit/\">r267169</a>)</li>\n<li>Fixed <code>AudioBufferSourceNode.start()</code> ignoring <code>when</code> parameter when the pitch rate is 0 (<a href=\"https://trac.webkit.org/changeset/267170/webkit/\">r267170</a>)</li>\n<li>Fixed AudioContext not rendering until an AudioNode is constructed (<a href=\"https://trac.webkit.org/changeset/266922/webkit/\">r266922</a>)</li>\n<li>Fixed <code>AudioDestinationNode.maxChannelCount</code> always returning 0 (<a href=\"https://trac.webkit.org/changeset/266559/webkit/\">r266559</a>)</li>\n<li>Fixed <code>AudioParam.linearRampToValueAtTime()</code> and <code>exponentialRampToValueAtTime()</code> having no effect when there is no preceding event (<a href=\"https://trac.webkit.org/changeset/266788/webkit/\">r266788</a>)</li>\n<li>Fixed <code>BiquadFilterNode.getFrequencyResponse()</code> to return <code>NaN</code> for out-of-bounds frequencies (<a href=\"https://trac.webkit.org/changeset/266541/webkit/\">r266541</a>)</li>\n<li>Fixed the types of <code>Panner.setPosition()</code> and <code>setOrientation()</code> parameters to not be unrestricted float (<a href=\"https://trac.webkit.org/changeset/267071/webkit/\">r267071</a>)</li>\n<li>Dropped non-standard <code>AudioBuffer.gain</code> (<a href=\"https://trac.webkit.org/changeset/267065/webkit/\">r267065</a>)</li>\n<li>Made <code>AudioParam.cancelScheduledValues()</code> standards compliant (<a href=\"https://trac.webkit.org/changeset/266558/webkit/\">r266558</a>)</li>\n<li>Improved interpolation algorithm in OscillatorNode (<a href=\"https://trac.webkit.org/changeset/266627/webkit/\">r266627</a>)</li>\n<li>Introduced StereoPannerNode Interface (<a href=\"https://trac.webkit.org/changeset/265962/webkit/\">r265962</a>)</li>\n<li>Stopped performing &#8220;de-zippering&#8221; when applying gain (<a href=\"https://trac.webkit.org/changeset/266794/webkit/\">r266794</a>)</li>\n</ul>\n<h3>MediaRecorder</h3>\n<ul>\n<li>Enabled MediaRecorder by default on macOS (<a href=\"https://trac.webkit.org/changeset/267225/webkit/\">r267225</a>)</li>\n<li>End of media capture should not be reported before 3 seconds of the start of capture (<a href=\"https://trac.webkit.org/changeset/267081/webkit/\">r267081</a>)</li>\n<li>MediaRecorder timeslice parameter causing internal error on longer videos (<a href=\"https://trac.webkit.org/changeset/266611/webkit/\">r266611</a>)</li>\n</ul>\n<h3>Paint Timing</h3>\n<ul>\n<li>Enabled paint timing by default (<a href=\"https://trac.webkit.org/changeset/267235/webkit/\">r267235</a>)</li>\n</ul>\n<h3>WebGL</h3>\n<ul>\n<li>Enabled WebGL2 by default (<a href=\"https://trac.webkit.org/changeset/267027/webkit/\">r267027</a>)</li>\n<li>Added WebGL and WebGL2 context support to OffscreenCanvas (<a href=\"https://trac.webkit.org/changeset/266275/webkit/\">r266275</a>)</li>\n<li>WebGL goes in a bad state where <code>glContext.createProgram()</code> returns null (<a href=\"https://trac.webkit.org/changeset/266362/webkit/\">r266362</a>)</li>\n</ul>\n<h3>CSS</h3>\n<ul>\n<li>Fixed <code>text-transform</code> inheritance to <code>::marker</code> (<a href=\"https://trac.webkit.org/changeset/266288/webkit/\">r266288</a>)</li>\n<li>Changed to set available column space before grid items prelayout (<a href=\"https://trac.webkit.org/changeset/266173/webkit/\">r266173</a>)</li>\n<li>Added support for <code>flow-relative</code> shorthand and offset properties (<a href=\"https://trac.webkit.org/changeset/266674/webkit/\">r266674</a>)</li>\n<li>Changed to allow indefinite size flex items to be definite with respect to resolving percentages inside them (<a href=\"https://trac.webkit.org/changeset/266696/webkit/\">r266696</a>)</li>\n<li>Changed to not skip flexboxes with auto height for percentage computations in quirks mode (<a href=\"https://trac.webkit.org/changeset/266716/webkit/\">r266716</a>)</li>\n<li>Changed to use <code>min-content</code> size for intrinsic maximums resolution (<a href=\"https://trac.webkit.org/changeset/266675/webkit/\">r266675</a>)</li>\n<li>Fixed <code>min-height: auto</code> not getting applied to nested flexboxes (<a href=\"https://trac.webkit.org/changeset/266695/webkit/\">r266695</a>)</li>\n<li>Fixed <code>:visited</code> color taken on a non-visited link when using CSS variables (<a href=\"https://trac.webkit.org/changeset/266656/webkit/\">r266656</a>)</li>\n<li>Fixed CSS <code>revert</code> to serialize as &#8220;revert&#8221;, not &#8220;Revert&#8221; (<a href=\"https://trac.webkit.org/changeset/266660/webkit/\">r266660</a>)</li>\n<li>Updated to safely handle overly-long CSS variable values (<a href=\"https://trac.webkit.org/changeset/266989/webkit/\">r266989</a>)</li>\n</ul>\n<h3>Web API</h3>\n<ul>\n<li>Aligned <code>length</code> properties of function prototypes with specificcations (<a href=\"https://trac.webkit.org/changeset/266018/webkit/\">r266018</a>)</li>\n<li>Updated <code>ReadableStream.pipeTo</code> implementation to match specifications (<a href=\"https://trac.webkit.org/changeset/266129/webkit/\">r266129</a>)</li>\n<li>Updated Web Share API to prevent non-HTTP(S) URLs (<a href=\"https://trac.webkit.org/changeset/266151/webkit/\">r266151</a>)</li>\n<li>Aligned ISO-8859-{3,6,7,8,8-I} and windows-{874,1253,1255,1257} encodings with specifications (<a href=\"https://trac.webkit.org/changeset/266527/webkit/\">r266527</a>)</li>\n<li>Changed XML documents in iframes to not inherit encoding from the parent frame (<a href=\"https://trac.webkit.org/changeset/266671/webkit/\">r266671</a>)</li>\n<li>Changed Element to not set an attribute inside its constructor (<a href=\"https://trac.webkit.org/changeset/267074/webkit/\">r267074</a>)</li>\n<li>Changed <code>new URL(\"#\")</code> to throw an error (<a href=\"https://trac.webkit.org/changeset/266748/webkit/\">r266748</a>)</li>\n<li>Fixed consecutive <code>requestAnimationFrame</code> callbacks that may get passed the same timestamp (<a href=\"https://trac.webkit.org/changeset/266526/webkit/\">r266526</a>)</li>\n<li>Fixed <code>XHR.timeout</code> getting affected by long tasks (<a href=\"https://trac.webkit.org/changeset/267227/webkit/\">r267227</a>)</li>\n<li>Fixed taking too long to fetch images from memory cache (<a href=\"https://trac.webkit.org/changeset/266699/webkit/\">r266699</a>)</li>\n<li>Implemented <code>encodeInto()</code> TextEncoder method (<a href=\"https://trac.webkit.org/changeset/266533/webkit/\">r266533</a>)</li>\n<li>Updated the URL fragment percent encode set (<a href=\"https://trac.webkit.org/changeset/266399/webkit/\">r266399</a>)</li>\n</ul>\n<h3>Lazy Loading</h3>\n<ul>\n<li>Implemented lazy iframe loading (<a href=\"https://trac.webkit.org/changeset/266976/webkit/\">r266976</a>, <a href=\"https://trac.webkit.org/changeset/267187/webkit/\">r267187</a>)</li>\n<li>Fixed lazy image load painting (<a href=\"https://trac.webkit.org/changeset/267136/webkit/\">r267136</a>)</li>\n</ul>\n<h3>Media</h3>\n<ul>\n<li>Fixed the PiP window getting closed when the video element is removed from the DOM (<a href=\"https://trac.webkit.org/changeset/265904/webkit/\">r265904</a>)</li>\n<li>Fixed an HDCP error for all streams on Netflix (<a href=\"https://trac.webkit.org/changeset/266176/webkit/\">r266176</a>)</li>\n<li>Fixed <code>&lt;video&gt;</code> element preventing screen from sleeping even after playback finishes (<a href=\"https://trac.webkit.org/changeset/266410/webkit/\">r266410</a>)</li>\n</ul>\n<h3>WebRTC</h3>\n<ul>\n<li>Added <code>RTCRtpSynchronizationSource.rtpTimestamp</code> (<a href=\"https://trac.webkit.org/changeset/266052/webkit/\">r266052</a>)</li>\n<li>Exposed <code>RTCPeerConnection.restartIce</code> (<a href=\"https://trac.webkit.org/changeset/266511/webkit/\">r266511</a>)</li>\n<li>Safari is not able to hear audio when using WebRTC in multiple tabs (<a href=\"https://trac.webkit.org/changeset/266454/webkit/\">r266454</a>)</li>\n</ul>\n<h3>Rendering</h3>\n<ul>\n<li>Fixed animations invalidating too often (<a href=\"https://trac.webkit.org/changeset/266229/webkit/\">r266229</a>)</li>\n<li>Fixed flickering on sedona.dev (<a href=\"https://trac.webkit.org/changeset/266189/webkit/\">r266189</a>)</li>\n<li>Fixed the cut off scrollbar on Facebook posts with lots of comments has cut off scrollbar that couldn&#8217;t scroll to the bottom (<a href=\"https://trac.webkit.org/changeset/266156/webkit/\">r266156</a>)</li>\n<li>Changed to handle fonts that lie about being monospaced (<a href=\"https://trac.webkit.org/changeset/266118/webkit/\">r266118</a>)</li>\n<li>Fixed programmatic selection of text in a text field that causes the highlight overlay to spill out (<a href=\"https://trac.webkit.org/changeset/266051/webkit/\">r266051</a>)</li>\n<li>Fixed <code>overflow: scroll</code> rubber-banding getting interrupted by post-layout scrolling (<a href=\"https://trac.webkit.org/changeset/267002/webkit/\">r267002</a>, <a href=\"https://trac.webkit.org/changeset/266337/webkit/\">r266337</a>)</li>\n<li>Fixed a flash when closing a webpage (<a href=\"https://trac.webkit.org/changeset/267250/webkit/\">r267250</a>)</li>\n</ul>\n<h3>Text Rendering</h3>\n<ul>\n<li>Changed <code>letter-spacing</code> to disable ligatures (<a href=\"https://trac.webkit.org/changeset/266683/webkit/\">r266683</a>)</li>\n</ul>\n<h3>Scrolling</h3>\n<ul>\n<li>Fixed vertical scrolling getting stuck when a horizontal scroller is under the mouse (<a href=\"https://trac.webkit.org/changeset/266292/webkit/\">r266292</a>)</li>\n<li>Fixed select element scrolling after scrolling the page (<a href=\"https://trac.webkit.org/changeset/266262/webkit/\">r266262</a>)</li>\n</ul>\n<h3>Back-Forward Cache</h3>\n<ul>\n<li>Added support for third-party domains to get stored for back-forward navigations (<a href=\"https://trac.webkit.org/changeset/265916/webkit/\">r265916</a>)</li>\n</ul>\n<h3>Storage Access API</h3>\n<ul>\n<li>Allowed requests for storage access from nested iframes (<a href=\"https://trac.webkit.org/changeset/266479/webkit/\">r266479</a>)</li>\n</ul>","author":"","siteTitle":"Blog – WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"bd052403841a91e9c08fe11dfea78335d70fd64b194fa4541c989feff717a2fb","category":"Tech"}