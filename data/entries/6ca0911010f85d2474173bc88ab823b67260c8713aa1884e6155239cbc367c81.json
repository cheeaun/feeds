{"title":"มาใช้งาน FastAPI กันเถอะ","link":"https://www.somkiat.cc/let-start-with-fastapi/","date":1611559254000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2021/01/fastapi-150x150.png\" class=\"attachment-post-thumbnail size-post-thumbnail wp-post-image\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/01/fastapi-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2021/01/fastapi-75x75.png 75w\" sizes=\"(max-width: 150px) 100vw, 150px\" /></p><!-- wp:image {\"id\":21291,\"width\":590,\"height\":320,\"sizeSlug\":\"large\"} -->\n<figure class=\"wp-block-image size-large is-resized\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/01/fastapi-1024x557.png\" alt=\"\" class=\"wp-image-21291\" width=\"590\" height=\"320\"/></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph -->\n<p>เนื่องจากมีงานเล็ก ๆ ที่พัฒนาด้วยภาษา Python ต้องทำส่งนิดหน่อย<br>โดยปกติจะใช้ Flask ในการพัฒนาเป็นหลัก<br>แต่เห็นว่ามี library อีกตัวที่น่าสนใจคือ <strong><a href=\"https://fastapi.tiangolo.com/\" target=\"_blank\" rel=\"noreferrer noopener\">FastAPI</a></strong><br>ลองทำการศึกษา ลองใช้งาน แล้วก็ดันทำส่งลูกค้าไป<br>มาดูกันหน่อยว่า FastAPI มีอะไรที่น่าสนใจบ้าง ?</p>\n<!-- /wp:paragraph -->\n\n\n<span id=\"more-21290\"></span>\n\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>เป้าหมายของ FastAPI นั้นมี 3 เรื่องหลัก ๆ คือ</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li>Speed คือความเร็วของการทำงาน</li><li>Developer experience</li><li>Open standard</li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>ในเรื่องของความเร็วนั้น</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>ถ้าใช้ค่า default หรือจากตัวอย่างเลย<br>พบว่าไม่ได้เร็วอย่างที่บอกแต่สามารถ config เพิ่มเติมได้ <br>ยกตัวอย่างเช่น</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li>การปิด log ออก console</li><li>การเพิ่ม worker เข้าไป</li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p>โดยการทำงานด้านหลังมันคือ Starlette และ <a href=\"https://pydantic-docs.helpmanual.io/\" target=\"_blank\" rel=\"noreferrer noopener\">Pydantic</a><br>ที่สำคัญเมื่อ <a href=\"https://www.starlette.io/\" target=\"_blank\" rel=\"noreferrer noopener\">Starlette</a> + <a href=\"https://www.uvicorn.org/\" target=\"_blank\" rel=\"noreferrer noopener\">Uvicorn</a> ก็จะสนับสนุน Asynchronous ให้อีกด้วย<br>สามารถใช้ syntax async และ await ได้เลย</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>ถ้ามองในแง่การความเร็วในการพัฒนาแล้ว</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>พบว่า ช่วยให้พัฒนาได้เร็วขึ้นมาเพราะว่า <br>ได้เตรียมสิ่งที่ต้องใช้งานให้ครบแล้ว<br>ไม่ต้องมาทำอะไรเองมาก<br>แถมมีตัวช่วยในการตรวจสอบความผิดพลาดให้ด้วย อันนี้ชอบมาก ๆ<br>หรือทำพวก type checking ให้อีกด้วย สบายไปไหม<br><br><strong><em>สิ่งที่สำคัญมาก ๆ คือ Live reload ก็มีมาให้พร้อม<br>ไม่ต้องไปหา program เพิ่มเติมอีก</em></strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:shortcode -->\n[gist id=\"c832ca48e603af3a730bcef2a7bd3f08\" file=\"1.py\"]\n<!-- /wp:shortcode -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>แต่สิ่งที่แจ่มมาก ๆ คือ สนับสนุน Open API หรือชื่อเก่าคือ Swagger เลย</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>ดังนั้นเราจะได้ API Documentation ให้แบบอัตโนมัติ<br>รวมทั้งสนับสนุน JSON Schema สำหรับการ validate JSON อีกด้วย<br>โดยจะมีทั้ง Swagger UI และ Redoc ให้เลย</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:image {\"id\":21295,\"width\":454,\"height\":510,\"sizeSlug\":\"large\"} -->\n<figure class=\"wp-block-image size-large is-resized\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/01/index-03-swagger-02-910x1024.png\" alt=\"\" class=\"wp-image-21295\" width=\"454\" height=\"510\"/></figure>\n<!-- /wp:image -->\n\n<!-- wp:paragraph {\"customFontSize\":25} -->\n<p style=\"font-size:25px\"><strong>มีครบขนาดนี้ มาลองใช้งานกันดู ทั้ง</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li>Data validation</li><li>Dependency Injection</li><li>Serialize และ Deserialize</li><li>Middleware</li><li>Modular</li><li>Security</li><li>Testing</li><li>Deployment</li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p>คิดว่าเอามาแทนที่ Flask ได้เลย</p>\n<!-- /wp:paragraph -->","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"6ca0911010f85d2474173bc88ab823b67260c8713aa1884e6155239cbc367c81","category":"Thai"}